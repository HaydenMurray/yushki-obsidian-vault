# Spire of Echoes — Design Document v1

## Elevator Pitch
An incremental game where you grow a living tower by cultivating magical entities — but periodically, something comes to tear it down. Your income generators ARE your ammunition. Every boss fight is a gut-punch decision about what you're willing to sacrifice.

**Genre:** Incremental / Idle + Grid Tactics + Roguelite
**Platform:** PC (Steam)  
**Art:** 2D Pixel Art  
**Engine:** Unity  

---

## Theme & Setting

**The Spire is a living lighthouse on the edge of the world.**

You are a Keeper — part gardener, part tinkerer, part shepherd. The Spire grows upward from a rocky island where the land ends and something vast begins. It's not sinister. It's *warm* — a beacon in the fog, a home for strange creatures called **Echoes** that drift in from the mist like stray cats. Some hum. Some glow. Some rearrange your furniture when you're not looking.

Echoes are useful: they generate resources, tend the Spire, transform things around them. They have personalities — the little crystal one that always rolls into corners, the big mossy one that rumbles when it's content. You nurture them. You name them (internally, at least).

But the mist brings other things too. **Gales** — great storms with teeth, hungry weather that batters the Spire and tries to scatter your Echoes into the void. When a Gale hits, you have to send Echoes out into it to break the storm. They don't come back. They become part of the sky.

**Why it works:** The sacrifice isn't grimdark — it's *bittersweet*. You're sending companions into the storm to protect your home. They go willingly. The Spire remembers them (literally — their resonance lingers). It's Spiritfarer's farewell mechanic married to tactical combat.

**Visual Direction:**
- The Spire: warm stone base → mossy middle → wind-swept glass upper floors → open sky at the peak
- Echoes: bright, chunky pixel creatures with expressive idle animations (wobble, nap, play)
- Gales: swirling dark clouds with glowing shapes inside — menacing but beautiful, like northern lights gone wrong
- Palette: warm ambers and greens at base → sky blues and whites at top. Cozy hearth tones, not dungeon tones.
- The island itself: wildflowers, tide pools, a tiny dock with a boat that never sails. Home.

---

## Core Loop

```
IDLE PHASE (the grower)
  │  Echoes generate resources passively
  │  You manage placement, upgrades, and new Echo acquisition
  │  Tower physically grows as you progress
  │
  ▼
TENSION PHASE (the signal)
  │  A Gale is detected approaching — you see what's coming
  │  Timer gives you prep time (30-60 seconds of real time)
  │  You see: Gale's threshold, traits, AND which Resonance type it fears
  │  Last chance to: rearrange Spire, nurture unfinished Echoes, make tough calls
  │  Idle generation STOPS — the Spire is bracing. Clock is ticking.
  │
  ▼
GRID PHASE (the sacrifice)
  │  Place Echoes on a small combat grid
  │  Adjacency and synergies determine your combat value
  │  Echoes placed are CONSUMED after the fight (win or lose)
  │
  ▼
AFTERMATH
  │  Win: Loot from Gale, Spire grows, unlock new tier
  │  Lose: Spire damaged (lose resources/progress), Gale grows stronger
  │  Either way: economy permanently changed by what you sacrificed
  │
  └──→ back to IDLE PHASE
```

---

## The Idle Phase — Growing Your Spire

### Resources
Three currencies, each with tension against the others:

- **Essence** — primary currency, generated by most Echoes. Buys upgrades and new Echoes. The "gold."
- **Memory** — rare currency, generated only by specific Echoes or from boss loot. Used for permanent unlocks and prestige upgrades. Losing Memory-generating Echoes in combat *hurts*.
- **Resonance** — not stockpiled. It's a *rate* — how harmoniously your Echoes are arranged. High Resonance = faster generation of everything. Changes dynamically based on Echo placement in the Spire.

**Why Resonance matters:** Moving an Echo to boost idle income might weaken your combat options. The two phases compete for the same spatial resource — Echo arrangement.

### Echo Acquisition
- Echoes **emerge** organically as the Spire grows — not bought from a shop
- You choose which to nurture (invest Essence) and which to let fade
- Some appear only under specific conditions (Resonance thresholds, specific adjacencies)
- **Each run develops differently** because emergence is conditional, not random from a pool

### The Spire as a Living Space
- Vertical stack of floors, each with limited Echo slots
- Floor **type** affects occupants (stone floors → combat bonus, crystal floors → generation bonus)
- **The Spire is your "deck"** — what you've built determines what you can bring to combat

---

## The Grid Phase — Boss Combat

### How It Works
1. A Gale arrives with a **Combat Threshold** (number to beat) and **Traits** (modifiers)
2. You're shown a **4×4 grid** (small enough that every cell matters)
3. You place Echoes from your Spire onto the grid
4. Each Echo has a **base combat value** plus **adjacency effects**
5. Your total must exceed the Gale's threshold
6. **All placed Echoes are consumed** — absorbed by the battle, regardless of outcome

### Adjacency System — The Non-Obvious Stuff

Every Echo belongs to one of several **Resonance Types** (not "elements" — avoid fire/water/earth cliché):

- **Marrow** (structural, defensive) — from the stone layer
- **Prism** (multiplicative, transformative) — from the crystal layer  
- **Drift** (chaotic, high-variance) — from the ethereal layer
- **Void** (parasitic, powerful but costly) — from weathered Gales

**Adjacency rules that create interesting decisions:**

| Adjacency | Effect |
|-----------|--------|
| Same type touching | +flat bonus (safe, predictable) |
| Marrow + Prism | Prism *multiplies* Marrow's value (1.5x) |
| Prism + Drift | Creates a "Wild" effect — combat value becomes a range (could be huge, could be zero) |
| Drift + Drift | Swap positions randomly before combat resolves — chaotic but potentially powerful |
| Storm + anything | Drains 30% of neighbor's combat value but adds 50% to itself. Parasitic but net positive IF positioned right |
| Storm + Storm | Annihilate each other — both contribute zero. UNLESS you unlock "Singularity" via Resonance Tuning, which turns annihilation into the highest single-cell value in the game. Ultimate risk/reward. |
| Marrow + Drift | Marrow "anchors" Drift — removes randomness, Drift contributes its average value guaranteed |
| Empty cell adjacent to Prism | Prism refracts — copies the value of its *opposite* neighbor through the empty cell |

**The "refraction" mechanic is key:** Empty cells aren't dead space. A Prism Echo next to an empty cell projects value through it, potentially hitting something on the other side. This means the grid has "phantom connections" that reward spatial reasoning.

### Combat Resolution — Not Just Binary

Your total vs. the Gale's threshold isn't just win/lose:

- **Decisive Victory (>150% threshold):** Bonus loot + Gale drops a Storm Echo (powerful but dangerous)
- **Victory (>100%):** Standard rewards, Spire grows
- **Pyrrhic Victory (100-110%):** You win, but the Spire takes structural damage — lose a floor
- **Defeat (<100%):** Spire damaged, Gale grows stronger for next encounter
- **Catastrophic Defeat (<50%):** Gale scatters additional Echoes from your Spire

This spectrum means over-investing in a fight has real value, and barely winning still stings.

### Concrete Example: A Grid in Action

You're facing the Gale **Gorger** (threshold: 240, trait: Consuming).

Your available Echoes:
- **Thornveil** (Marrow, combat 40, generates 8 Essence/s) — your best earner
- **Shimmer** (Prism, combat 25, generates 3 Essence/s + 1 Memory/min)
- **Wander** (Drift, combat 15-60 range, generates 5 Essence/s)
- **Splinter** (Marrow, combat 30, generates 4 Essence/s)
- **Gloom** (Storm, combat 55, generates 0 — but boosts adjacent Echoes' generation by 20%)

Your grid (4×4, you choose where to place):
```
  [Thornveil] [Shimmer]  [  empty  ] [         ]
  [Splinter ] [  Gloom ] [         ] [         ]
  [         ] [         ] [         ] [         ]
  [         ] [         ] [         ] [         ]
```

Calculation:
- Thornveil (40) + Splinter (30) = same-type Marrow bonus → +15 each = 55 + 45
- Shimmer (25) adjacent to Thornveil → Prism multiplies Marrow 1.5x → Thornveil becomes 82
- Shimmer adjacent to empty cell → refracts, but nothing on other side, no bonus
- Gloom (55) adjacent to Shimmer → drains 30% of Shimmer (−7.5) but gains 50% (+12.5) = Gloom at 67.5, Shimmer at 17.5
- Gloom adjacent to Splinter → drains 30% (−13.5) gains 50% (+22.5) = Gloom at 90, Splinter at 31.5
- Wander not placed — preserved for future income

**Total: 82 + 17.5 + 31.5 + 90 = 221.** Not enough for 240.

**The dilemma:** Do you also sacrifice Wander? Its Drift range (15-60) *could* push you over... or could leave you at 236. Or do you rearrange — put Shimmer next to the empty cell with Splinter on the opposite side, letting refraction copy Splinter's value through? That gets you there without risking Wander.

*This is the kind of puzzle every boss fight creates.*

### Adjacency Balance Notes

**Order of operations:** (1) Base CV → (2) Same-type flat bonuses → (3) Multiplicative effects (Prism) → (4) Parasitic effects (Storm drain/gain) → (5) Refraction fills in last.

**Balance check — the math above has issues.** Clarified resolution:
- Thornveil base 40 + Marrow-Marrow flat +10 = 50. Prism 1.5× → **75**
- Splinter base 30 + Marrow-Marrow flat +10 = 40. Storm drains 30% → 40 × 0.7 = **28**
- Shimmer base 25. Storm drains 30% → 25 × 0.7 = **17.5**
- Gloom base 55 + Storm gains (50% of drained values: 12 from Splinter + 7.5 from Shimmer = 19.5) → **74.5**
- **Revised total: 75 + 28 + 17.5 + 74.5 = 195.** Even worse — need Wander.

**Wander placed adjacent to Thornveil (anchored by Marrow):** average value = 37.5 guaranteed. **New total: 232.5.** Still short! Player must rearrange.

**Optimal rearrangement** (using refraction):
```
  [Splinter ] [  empty  ] [Shimmer]  [         ]
  [Thornveil] [  Gloom  ] [         ] [         ]
  [         ] [         ] [         ] [         ]
  [         ] [         ] [         ] [         ]
```
- Shimmer refracts through empty cell → copies Splinter's value (40 after Marrow bonus) to the other side
- Gloom only drains Thornveil now (not Shimmer), concentrating the parasitic bonus
- This creates more total CV from the same 4 Echoes

**Design takeaway:** The numbers need tuning but the *decision space* is right — multiple valid arrangements with different risk/reward profiles. The flat bonus for same-type should probably be % based (e.g., +25%) rather than flat to scale better.

### Boss Traits (Examples)
- **Consuming:** The Gale also scatters Echoes from your Spire (not just the grid) if you lose
- **Mirrored:** Boss copies your grid layout — you're fighting your own arrangement. Your best move is to place Echoes that are strong solo but punish adjacency (like Storm)
- **Shifting:** Grid rotates 90° halfway through combat — adjacencies you planned for change. Symmetrical layouts are suddenly valuable.
- **Gale Eye:** Boss has a weak cell — placing anything there is an instant kill, but the cell is hidden. Do you spread out (higher chance of hitting it) or cluster (safer adjacency bonus)?
- **Resonant:** Boss is weak to a specific Resonance type — 2x value for those Echoes
- **Echoing:** Boss fights in two waves — your grid stays, but you can't rearrange between waves. Did you frontload or sustain?

---

## The Roguelite Layer — What Resets, What Stays

### The Run
Each "run" is a **cycle of the Spire** — you grow it from nothing, face escalating Gales, until eventually one destroys you (or you reach the peak).

**Resets on death:**
- All Echoes
- All resources (Essence, Resonance)
- Spire height and layout
- Current floor types and arrangements

**Persists across runs (via Memory currency):**
- **Echo Codex** — Echoes you've discovered are *easier* to find in future runs (appear earlier, cheaper to nurture)
- **Spire Foundations** — permanent starting bonuses (start with floor 2, start with a free Echo slot, etc.)
- **Gale Lore** — knowing a Gale's traits before they're formally revealed (since you've fought them before)
- **Resonance Tuning** — unlock new adjacency interactions that weren't available before. The *rules themselves* expand across runs.

**"Resonance Tuning" is the big one:** In early runs, you have basic adjacency rules. As you invest Memory, you unlock new interactions. Maybe Marrow+Void has no special interaction in run 1, but by run 5 you've unlocked "Marrow+Void = Bone Shield: absorb one boss trait." This means the *strategic space itself* expands, not just your numbers.

### Run Variety
What makes each run different:
- **Echo emergence is semi-random** — you won't get the same Echoes every time
- **Floor biome order can vary** — Spire doesn't always grow stone→moss→sky
- **Gale sequence is shuffled** — different bosses in different order
- **Events** — rare occurrences during idle phase (a wandering Echo offers a deal, a minor squall appears early as a skill check, a Resonance storm scrambles your layout)

---

## Progression Arc

### Early Game (Runs 1-3): "Oh, I Love These Little Guys"
- The Spire is small, cozy, almost a cottage. 3-4 Echoes max.
- Player assigns Echoes to floors, watches them wobble around generating resources. Gets attached.
- First Gale arrives. Tutorial: you MUST send one Echo into the storm. It works. The Echo is gone. Its floor has a faint glow where it used to sit.
- Player thinks: "...I didn't like that." **This is the hook.** The game just made you care about a resource.
- Runs 2-3: player starts hoarding "combat Echoes" and "keepers" — the strategy is emerging from emotion.

### Mid Game (Runs 4-10): "I Can't Believe I'm Planning Funerals"
- Resonance Tuning unlocks new adjacency rules — the grid becomes a real puzzle
- Storm Echoes appear (born from defeated Gales) — powerful but volatile, like taming the weather itself
- Gale traits turn combat into spatial brain-teasers (Shifting rotates the grid, Echoing demands two-wave planning)
- The player starts seeing Echoes as *compositions* — this one exists to amplify that one in combat, even though it's also their best earner
- The refraction mechanic clicks: empty cells aren't waste, they're mirrors. First "galaxy brain" grid moment.
- Emotional texture: the Spire grows tall enough to see over the fog for the first time. What's out there?

### Late Game (Runs 10+): "I Broke It and It Felt Amazing"
- Multi-type grids with layered adjacencies create emergent combos the designer didn't plan
- Gales with 2-3 traits simultaneously — each fight is a unique puzzle
- Player discovers that Storm Echoes placed adjacent to each other create a Singularity — the highest value in the game, but only with the right Resonance Tuning unlock
- Memory investments mean each run has a different strategic identity: "resonance run," "storm tamer run," "minimalist run"
- Secret Echoes with unique emergence conditions reward exploration and experimentation

### Endgame: The Sky Above the Fog
- The Spire breaks through the mist ceiling
- Above: not void, not a boss arena — a *sky full of Echoes*. Every Echo you ever sacrificed is up there, drifting, forming constellations.
- Final Gale: the biggest storm, but this time your lost Echoes help from above — their resonance imprints activate across the grid
- **Final choice:** seal the sky (no more Gales, but no more new Echoes — peaceful ending) or leave it open (endless mode, the Spire keeps growing into the unknown)
- Either way: the Spire was always a lighthouse. You were guiding them home.

---

## Integrated Mechanics (from Research)

These are the highest-impact ideas from the mechanics exploration, adapted for this game:

### Memory Inheritance — Sacrifice as Legacy
When an Echo is consumed in a Gale *adjacent to a surviving Echo on the Spire* (not the combat grid — on the Spire floor where they lived), the surviving Echo gains a **Memory** of the lost one: one trait or ability, at reduced power. An Echo can hold up to 3 Memories.

**Why this changes everything:** Sacrifice isn't just loss — it's *transfer*. You're choosing what legacy each Echo leaves. "My Prism Echo died, but my Marrow Echo carries its refraction ability now." This turns every sacrifice into a strategic decision about *who stands next to whom* in the Spire, not just the combat grid.

**Scope:** MVP-compatible. Just needs a trait transfer system and memory slot UI.

### Emotional Contagion — Dynamic Adjacency
Echoes have emotional states: **Calm** (baseline), **Bright** (boosted generation), **Anxious** (reduced generation, boosted combat), **Resonant** (spreads its type bonus further). States spread to adjacent Echoes each idle cycle, weighted by the Echo's "presence" stat.

A single Bright Echo can lift an entire floor's mood. A single Anxious Echo (maybe one that survived a close Gale) can dampen its neighbors. The player manages emotional topology — put your steadiest Echoes near the nervous ones.

**During Gale approach:** All Echoes shift toward Anxious (they can feel the storm). High-presence Echoes resist this and stabilize their neighbors. This creates a pre-combat scramble: your Spire's emotional state at Gale arrival affects which Echoes are combat-ready.

**Scope:** V2. Needs state propagation, presence stat, visual indicators (Echo color/animation shifts with mood).

### Dream Echoes — What Happens While You're Away
While the player is idle, Echoes don't just generate resources — they **dream**. Dreams are mini-simulations: Echoes replay fragments of past Gales, practice adjacency combos, or wander the Spire. On return, the player sees a dream log:

*"Thornmoss dreamed of standing next to Shimmer during the last Gale. It gained +1 Prism affinity but developed a reluctance to be placed on high floors."*

Echoes develop **quirks** from dreams — minor traits that make them more individual over time. A well-rested Echo might gain a small bonus. One with nightmares might need to be placed near a Calm neighbor.

**Scope:** V3. Fun but not core. Needs offline simulation and trait generation.

### Alternative Theme Note
The research also produced 3 alternative grounded-fantasy themes. The strongest was **The Guild Ledger** (running a broke adventurer's guild → legendary). "Sacrifice" becomes "graduation" — heroes retire and become permanent legacy bonuses. Worth considering as a pivot if the lighthouse theme doesn't click during prototyping. Full writeup in `exploration-themes.md`.

---

## What Makes This Different

1. **The sacrifice isn't a gimmick — it's the economy.** Every boss fight permanently reshapes your income. You don't just "spend resources to fight" — you spend your resource *generators*. The economic aftermath of each fight cascades.

2. **Spatial reasoning in BOTH phases.** Most idle games ignore space. Here, arrangement matters for idle income (Resonance) AND combat (adjacency grid). You're always thinking spatially.

3. **The rules themselves grow.** Unlocking new adjacency interactions via Resonance Tuning means the strategic complexity *emerges* with the player's skill level, not front-loaded.

4. **Empty cells have meaning.** The refraction mechanic means an empty grid cell isn't wasted — it's a design choice. This is unusual for grid games.

5. **Echoes have identity, not just stats.** Because they emerge conditionally and have visual personality, losing one in combat feels like losing a character, not just a number. This is emotional leverage most incrementals don't have.

6. **The theme is the mechanic.** Echoes sent into the storm aren't arbitrary losses — they're companions going willingly to protect the home they love. The farewell IS the gameplay, the gameplay reinforces the warmth.

---

## Scope Management — Honest Assessment

**Context:** Hayden is learning Unity/C# (3-4 hrs/day), runs multiple projects. This needs to be buildable as a learning project, not a fantasy design doc for a AAA team.

### Week 0 (2-3 days) — "Does this even work on paper?"
Before writing ANY code:
- Build the grid combat in a **spreadsheet or on paper**. 3×3 grid, 4-5 Echoes, adjacency math.
- Play 10 "fights" by hand. Does choosing which Echoes to place create real tension?
- If no → pivot the core mechanic before investing dev time.
- If yes → you've validated the hardest part. Everything else is UI and content.

### MVP (6-8 weeks realistic) — "Is the grid fun in Unity?"
**Goal:** One screen. Grid combat. Sacrifice tension. That's it.
- **What you're building:** A Unity scene with a 3×3 grid, drag-and-drop Echo placement, adjacency calculation, and a "fight" button that resolves combat.
- **Echoes:** 6 total, 2 Resonance types only (Marrow + Prism). Skip Drift and Storm entirely.
- **Idle phase:** Simplified — Echoes sit in a sidebar list generating Essence as a number. No Spire visualization yet. Just a resource counter and a timer until next Gale.
- **Combat:** 3 Gales with escalating thresholds. No traits. Win/lose binary (skip the spectrum for MVP).
- **Prestige:** None. Single run only. Add roguelite loop later.
- **Art:** Colored rectangles with letters on them. Seriously. Gameplay first, pixels later.

**Unity learning value:** ScriptableObjects for Echo data, drag-and-drop UI, basic state machine (idle→tension→combat→aftermath), simple math system. This covers ~70% of what you need to learn.

**What you're NOT building:** Spire visualization, Echo animations, fog effects, sound, multiple currencies, events, refraction, boss traits, prestige, save system.

**Honest risk:** 6-8 weeks assumes 3-4 hrs/day with Unity learning overhead. Could be 4 weeks if Unity clicks fast, 10+ if you hit architectural snags. The grid combat + adjacency system is the architecturally hard part — build it first, don't get distracted by visual polish.

### V2 (8-12 weeks after MVP) — "Is the loop compelling?"
- Add Spire as a visual layout (Echoes on floors, not just a list)
- Resonance as a mechanic (spatial optimization)
- Expand to 4×4 grid, add Drift type
- 3 Gale traits
- Memory currency + basic prestige (Echo Codex)
- Replace colored rectangles with actual pixel art
- **This is where it either becomes addictive or dies.** If the idle→combat→rebuild loop doesn't create "one more run" by the end of V2, reconsider the concept.

### V3 (12-20 weeks after V2) — "Is it a game someone would pay for?"
- Full roguelite layer, run variety, Storm Echoes
- Resonance Tuning tree
- Endgame content
- Sound design (critical — this game needs audio)
- Refraction mechanic, events, Memory Inheritance
- Polish, balance, playtest

### Scope Risks — The Real Ones
- **You're learning Unity while designing a game.** These are two jobs. Expect the first version to be architecturally messy. Plan to refactor once after MVP.
- **Adjacency math is a balancing nightmare.** With 4 types and 8+ interactions, the combinatorial space explodes. Start with 2 types. Add one at a time. Test each new interaction for a full week before adding the next.
- **Emotional attachment takes art + animation + sound.** The "sacrifice feels meaningful" pitch relies on Echoes being lovable. Colored rectangles won't prove this. You'll need at least placeholder art by V2 to validate the emotional core.
- **Idle pacing is pure trial and error.** No design doc can solve this — it's tuning. Budget 2-3 weeks of V2 just for pacing iteration.
- **Feature creep is the actual boss.** This doc has ~15 mechanics described. The MVP needs 3. Kill your darlings ruthlessly.

---

## Subtle Details That Elevate It

### The Spire Remembers
After each Gale, the grid cells where your Echoes were consumed leave **soft glows** — faint pixel art remnants, like warm afterimages. These are cosmetic at first, but in later runs with the right Resonance Tuning unlock, glows from *previous runs* appear on Gale grids as guides. The game subtly teaches you that history matters. Your lost companions are still helping.

### The Fog Whispers
Scattered throughout: Echoes occasionally hum fragments during idle phase. Short, melodic, slightly strange. A crystal Echo chimes a tune that sounds like wind through a window. A mossy Echo rumbles in a rhythm that matches the tide below. The player slowly realizes the Echoes are remembering something — a place above the fog they came from. This seeds the endgame reveal organically.

### Overflow Economy
Excess Echoes beyond Spire capacity enter a **Liminal Pool** — no resource generation, but deployable to combat for free. The Pool drains slowly (Echoes fade), creating timing pressure: fight while your Pool is full, or lose free ammunition.

---

## Open Questions
- Exact grid size? 4×4 feels right but 3×3 might be better for MVP
- Should the player see upcoming bosses beyond the next one? (Balatro shows antes — creates long-term planning)
- How long should a single run take? (20-30 min active? Or hours with idle?)
- Multiplayer potential later? (Leaderboards, async ghost runs?)

## Supporting Documents
- `concrete-units.md` — 5 designed Echoes (Hearthglow, Tideskip, Claspwing, Lanternmaw, Griefsong) with stats, adjacency math, and 2 grid scenarios
- `exploration-mechanics.md` — 15 novel mechanic proposals from 8 reference games
- `exploration-themes.md` — 3 alternative grounded-fantasy themes (Outerpost, Wandering Fair, Guild Ledger)
